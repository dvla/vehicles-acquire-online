@(traderLookupForm: Form[uk.gov.dvla.vehicles.presentation.common.model.SetupTradeDetailsFormModel])(implicit lang: Lang,
token: uk.gov.dvla.vehicles.presentation.common.filters.CsrfPreventionAction.CsrfPreventionToken,
config: utils.helpers.Config)

@import controllers.routes.SetUpTradeDetails;
@import views.acquire.SetupTradeDetails.SubmitId
@import views.html.acquire.main
@import views.html.helper.form
@import uk.gov.dvla.vehicles.presentation.common
@import common.model.SetupTradeDetailsFormModel.Form.{TraderNameId, TraderPostcodeId, TraderEmailId, TraderEmailOptionId}
@import common.views.helpers.LabelHelper.optionalFieldKey
@import common.mappings.Postcode
@import common.mappings.Email.EmailMaxLength
@import common.mappings.BusinessName
@import common.views.helpers.BaseTemplate.fieldConstructor
@import common.views.html.widgets.base.valtechInputText
@import common.views.html.widgets.base.csrfTokenHiddenField
@import common.views.html.widgets.optionalToggle

@main(
  progress = Some(Messages("acquire_progress_2")),
  title = Messages("acquire_setuptradedetails.title"),
  currentForm = Some(traderLookupForm)
) {

    <h1>@Messages("acquire_setuptradedetails.title")</h1>

    @form(action = SetUpTradeDetails.submit) {
        @csrfTokenHiddenField()

        <div class="uppercase-input">
        @valtechInputText(traderLookupForm(TraderNameId),
            hintText = Some(Messages("acquire_setuptradedetails.tradername.hint")),
            args = Map('_label -> Messages("acquire_setuptradedetails.tradernamelabel"),
                '_showConstraints -> false,
                'autofocus -> true,
                'maxLength -> BusinessName.MaxLength
            )
        )
        </div>
            @optionalToggle(
                traderLookupForm(TraderEmailOptionId),
                Messages("change_keeper_vehiclelookup.traderemailoption"),
                Messages("change_keeper_vehiclelookup.traderemailoption.yes"),
                Messages("change_keeper_vehiclelookup.traderemailoption.no"),
                valtechInputText(traderLookupForm(TraderEmailId),
                    hintText = None,
                    args = Map(
                        '_label -> Messages("acquire_setuptradedetails.traderemaillabel"),
                        '_showConstraints -> false,
                        'maxLength -> EmailMaxLength,
                        'NO_OPTIONAL_LABEL -> false
                    )
                )
            )
        <div class="uppercase-input">
            @valtechInputText(traderLookupForm(TraderPostcodeId),
                hintText = Some(Messages("acquire_setuptradedetails.traderpostcode.hint")),
                args = Map('_label -> Messages("acquire_setuptradedetails.traderpostcodelabel"),
                    '_showConstraints -> false,
                    'maxLength -> Postcode.MaxLength
                )
            )
        </div>
        <div class="form-steps">
            <button id="@SubmitId" type="submit" name="action" class="button">
                @Messages("acquire_setuptradedetails.button")
            </button>
        </div>
    }
}
